# VM
## 실행 순서
initd
    -> supplemental_page_table_init
        -> hash_init
            ->hash_clear
        -> page_hash
        -> page_less
    -> process_exec
        -> process_cleanup
            -> susplemental_page_table_kill
        -> supplemental_page_table_init
        -> load
            -> pml4_create
            -> load_segment
                -> vm_alloc_page_with_initializer
                    -> spt_find_page
                        -> hash_find
                        -> free
                    -> uninit_new
                        -> *page 에 lazy_load_segment 들어감 (언제 실행?)
                    -> spt_insert_page
                        -> insert_page
                            -> hash_insert
                                -> find_bucket
                                -> find_elem
                                -> insert_elem
                                -> rehash
                                    -> list_init(&new_buckets)
            -> setup_stack
                -> palloc_get_page
                -> install_page
                -> palloc_free_page
        -> do_iret : thread switching

page_fault
    -> vm_try_handle_fault : page fault 발생시 핸들링 위해 호출되는 함수
        -> vm_claim_page
            -> spt_find_page
            -> vm_do_claim_page
                -> vm_get_frame
                    -> palloc_get_page
                    -> vm_evict_frame
                -> install_page
                    -> pml4_get_page : user VA를 이용하여 PA확인. 있으면 kva return 없으면 NULL 반환
                    -> pml4_set_page :
                -> swap_in
        -> vm_stack_growth